/*
 * Decompiled with CFR 0.145.
 * 
 * Could not load the following classes:
 *  net.minecraft.class_1792
 *  net.minecraft.class_1799
 *  net.minecraft.class_1802
 *  net.minecraft.class_238
 *  net.minecraft.class_243
 *  net.minecraft.class_2596
 *  net.minecraft.class_2602
 *  net.minecraft.class_2708
 *  net.minecraft.class_2828
 *  net.minecraft.class_2828$class_2829
 *  net.minecraft.class_2828$class_2830
 *  net.minecraft.class_2828$class_2831
 *  net.minecraft.class_2828$class_5911
 *  net.minecraft.class_310
 *  net.minecraft.class_4587
 *  net.minecraft.class_634
 *  net.minecraft.class_746
 */
package dev.recollect.hana.mod.modules.impl.exploit.dev;

import dev.recollect.hana.api.events.eventbus.EventHandler;
import dev.recollect.hana.api.events.impl.MoveEvent;
import dev.recollect.hana.api.events.impl.PacketEvent;
import dev.recollect.hana.api.managers.TimerManager;
import dev.recollect.hana.api.utils.dev.hole.OLEPOSSUtils;
import dev.recollect.hana.api.utils.render.Render3DUtil;
import dev.recollect.hana.mod.modules.Module;
import dev.recollect.hana.mod.modules.settings.impl.BindSetting;
import dev.recollect.hana.mod.modules.settings.impl.ColorSetting;
import java.awt.Color;
import net.minecraft.class_1792;
import net.minecraft.class_1799;
import net.minecraft.class_1802;
import net.minecraft.class_238;
import net.minecraft.class_243;
import net.minecraft.class_2596;
import net.minecraft.class_2602;
import net.minecraft.class_2708;
import net.minecraft.class_2828;
import net.minecraft.class_310;
import net.minecraft.class_4587;
import net.minecraft.class_634;
import net.minecraft.class_746;

public class ChorusExploit
extends Module {
    private final BindSetting confirm;
    class_243 chorusPos;
    int chorusTicks;
    private final ColorSetting color;
    boolean isEatingChorus;
    class_2708 chorusPacket;

    @Override
    public void onDisable() {
        ChorusExploit a;
        if (a.chorusPacket != null) {
            ChorusExploit chorusExploit = a;
            chorusExploit.chorusPacket.method_11740((class_2602)mc.method_1562());
            chorusExploit.reset();
        }
    }

    @EventHandler
    public void onPacketSend(PacketEvent.Send send) {
        PacketEvent.Send a = send;
        ChorusExploit a2 = this;
        if (a2.chorusPacket != null && (a.getPacket() instanceof class_2828 || a.getPacket() instanceof class_2828.class_2830 || a.getPacket() instanceof class_2828.class_2831 || a.getPacket() instanceof class_2828.class_5911 || a.getPacket() instanceof class_2828.class_2829)) {
            a.cancel();
        }
    }

    public ChorusExploit() {
        ChorusExploit a;
        ChorusExploit chorusExploit = a;
        ChorusExploit chorusExploit2 = a;
        super(OLEPOSSUtils.ALLATORIxDEMO("th\u0010'_!h-Z$Xk\t"), Module.Category.Exploit);
        ChorusExploit chorusExploit3 = a;
        chorusExploit3.confirm = chorusExploit2.add(new BindSetting(TimerManager.ALLATORIxDEMO("\u000f\u0016%\u0002?\\q"), -1));
        a.color = a.add(new ColorSetting(OLEPOSSUtils.ALLATORIxDEMO("i'[m\u000f"), new Color(255, 255, 255, 100)));
        a.chorusPos = null;
        chorusExploit.chorusPacket = null;
        chorusExploit.isEatingChorus = false;
        a.chorusTicks = false ? 1 : 0;
        a.setChinese(TimerManager.ALLATORIxDEMO("\u7d60\u98e6\u67ca\u6ef0\u7545"));
    }

    @EventHandler(priority=-200)
    public void onMove(MoveEvent moveEvent) {
        MoveEvent a = moveEvent;
        ChorusExploit a2 = this;
        if (a2.chorusPacket != null) {
            Object object = a;
            a.setX(0.0);
            ((MoveEvent)object).setY(0.0);
            ((MoveEvent)object).setZ(0.0);
        }
    }

    private /* synthetic */ void reset() {
        ChorusExploit a;
        ChorusExploit chorusExploit = a;
        chorusExploit.chorusPacket = null;
        chorusExploit.chorusPos = null;
    }

    @Override
    public void onRender3D(class_4587 class_45872, float f) {
        ChorusExploit a = class_45872;
        ChorusExploit a2 = this;
        if (a2.chorusPos != null) {
            Render3DUtil.drawFill((class_4587)a, new class_238(a2.chorusPos.method_10216() - 0.3, a2.chorusPos.method_10214(), a2.chorusPacket.method_11738() - 0.3, a2.chorusPos.method_10216() + 0.3, a2.chorusPos.method_10214() + 1.85, a2.chorusPos.method_10215() + 0.3), a2.color.getValue());
        }
    }

    @Override
    public void onUpdate() {
        ChorusExploit a;
        ChorusExploit chorusExploit;
        if (ChorusExploit.mc.field_1724.method_6030() == null) {
            return;
        }
        if (ChorusExploit.mc.field_1724.method_6030().method_7909() == class_1802.field_8233) {
            chorusExploit = a;
            a.isEatingChorus = true;
        } else {
            if (a.isEatingChorus) {
                ChorusExploit chorusExploit2 = a;
                ++chorusExploit2.chorusTicks;
                if (chorusExploit2.chorusTicks > 5) {
                    ChorusExploit chorusExploit3 = a;
                    chorusExploit3.isEatingChorus = false;
                    chorusExploit3.chorusTicks = 0;
                }
            }
            chorusExploit = a;
        }
        if (chorusExploit.confirm.isPressed() && a.chorusPacket != null) {
            ChorusExploit chorusExploit4 = a;
            chorusExploit4.chorusPacket.method_11740((class_2602)mc.method_1562());
            chorusExploit4.reset();
        }
    }

    @EventHandler
    public void onPacketReceive(PacketEvent.Receive receive) {
        PacketEvent.Receive a = receive;
        ChorusExploit a2 = this;
        if (a.getPacket() instanceof class_2708 && (a2.isEatingChorus || a2.chorusPos != null)) {
            a2.chorusPacket = (class_2708)a.getPacket();
            ChorusExploit chorusExploit = a2;
            a2.chorusPos = new class_243(a2.chorusPacket.method_11734(), a2.chorusPacket.method_11735(), a2.chorusPacket.method_11738());
            a.cancel();
        }
    }
}
