/*
 * Decompiled with CFR 0.145.
 * 
 * Could not load the following classes:
 *  com.mojang.authlib.GameProfile
 *  net.minecraft.class_1297
 *  net.minecraft.class_1297$class_5529
 *  net.minecraft.class_1661
 *  net.minecraft.class_239
 *  net.minecraft.class_239$class_240
 *  net.minecraft.class_243
 *  net.minecraft.class_2561
 *  net.minecraft.class_2596
 *  net.minecraft.class_2793
 *  net.minecraft.class_2797
 *  net.minecraft.class_2799
 *  net.minecraft.class_2805
 *  net.minecraft.class_2813
 *  net.minecraft.class_2827
 *  net.minecraft.class_2828
 *  net.minecraft.class_2859
 *  net.minecraft.class_310
 *  net.minecraft.class_3959
 *  net.minecraft.class_3959$class_242
 *  net.minecraft.class_3959$class_3960
 *  net.minecraft.class_3965
 *  net.minecraft.class_634
 *  net.minecraft.class_638
 *  net.minecraft.class_745
 *  net.minecraft.class_746
 *  net.minecraft.class_7472
 */
package dev.recollect.hana.mod.modules.impl.exploit;

import com.mojang.authlib.GameProfile;
import dev.recollect.hana.api.events.eventbus.EventHandler;
import dev.recollect.hana.api.events.impl.PacketEvent;
import dev.recollect.hana.api.managers.TimerManager;
import dev.recollect.hana.mod.modules.Module;
import dev.recollect.hana.mod.modules.impl.combat.Burrow;
import dev.recollect.hana.mod.modules.impl.combat.dev.OldBurrow;
import dev.recollect.hana.mod.modules.settings.impl.BooleanSetting;
import dev.recollect.hana.mod.modules.settings.impl.SliderSetting;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.UUID;
import net.minecraft.class_1297;
import net.minecraft.class_1661;
import net.minecraft.class_239;
import net.minecraft.class_243;
import net.minecraft.class_2561;
import net.minecraft.class_2596;
import net.minecraft.class_2793;
import net.minecraft.class_2797;
import net.minecraft.class_2799;
import net.minecraft.class_2805;
import net.minecraft.class_2813;
import net.minecraft.class_2827;
import net.minecraft.class_2828;
import net.minecraft.class_2859;
import net.minecraft.class_310;
import net.minecraft.class_3959;
import net.minecraft.class_3965;
import net.minecraft.class_634;
import net.minecraft.class_638;
import net.minecraft.class_745;
import net.minecraft.class_746;
import net.minecraft.class_7472;
import org.bytedeco.javacv.BaseSettings;

public class Blink
extends Module {
    private int tickCounter;
    public final BooleanSetting bur2;
    public final BooleanSetting pauseModule;
    public final SliderSetting speed;
    public static Blink INSTANCE = new Blink();
    public final BooleanSetting bur;
    private final BooleanSetting renderSelf;
    public final BooleanSetting allPacket;
    private final ArrayList<class_2596> packetsList;
    public static class_745 fakePlayer;

    @Override
    public void onLogin() {
        Blink a;
        if (a.isOn()) {
            Blink blink = a;
            blink.packetsList.clear();
            blink.disable();
        }
    }

    @Override
    public void onEnable() {
        Blink a;
        a.packetsList.clear();
        if (Blink.nullCheck()) {
            a.disable();
            return;
        }
        if (a.renderSelf.getValue()) {
            fakePlayer = new class_745(Blink.mc.field_1687, new GameProfile(UUID.fromString(TimerManager.ALLATORIxDEMO("MKxHR`\u0013:dVJcO}HzVI{HacQHzGuDvJxEv")), Blink.mc.field_1724.method_5477().getString()));
            fakePlayer.method_5719((class_1297)Blink.mc.field_1724);
            Blink.fakePlayer.field_6283 = Blink.mc.field_1724.field_6283;
            Blink.fakePlayer.field_6241 = Blink.mc.field_1724.field_6241;
            fakePlayer.method_31548().method_7377(Blink.mc.field_1724.method_31548());
            Blink.mc.field_1687.method_53875((class_1297)fakePlayer);
        }
    }

    @Override
    public void onUpdate() {
        Blink a;
        if (Blink.mc.field_1724.method_29504()) {
            Blink blink = a;
            blink.packetsList.clear();
            blink.disable();
        }
        if (fakePlayer != null) {
            a.moveFakePlayer();
        }
        ++a.tickCounter;
    }

    @EventHandler
    public void onSendPacket(PacketEvent.Send a) {
        Blink a2;
        Blink blink = a2;
        a2 = a.getPacket();
        if (a2 instanceof class_2797) {
            return;
        }
        if (a2 instanceof class_2805) {
            return;
        }
        if (a2 instanceof class_7472) {
            return;
        }
        if (a2 instanceof class_2793) {
            return;
        }
        if (a2 instanceof class_2827) {
            return;
        }
        if (a2 instanceof class_2859) {
            return;
        }
        if (a2 instanceof class_2799) {
            return;
        }
        if (a2 instanceof class_2813) {
            return;
        }
        if (a2 instanceof class_2828 || blink.allPacket.getValue()) {
            blink.packetsList.add((class_2596)a.getPacket());
            a.cancel();
        }
    }

    @Override
    public String getInfo() {
        Blink a;
        return String.valueOf(a.packetsList.size());
    }

    private /* synthetic */ void moveFakePlayer() {
        Blink blink = this;
        double d = blink.speed.getValue();
        double d2 = Math.toRadians(fakePlayer.method_36454());
        double d3 = -Math.sin(d2) * d;
        d = Math.cos(d2) * d;
        class_243 class_2432 = fakePlayer.method_19538().method_1031(d3, 0.0, d);
        fakePlayer.method_5641(class_2432.field_1352, class_2432.field_1351, class_2432.field_1350, fakePlayer.method_36454(), fakePlayer.method_36455());
        Blink a = Blink.mc.field_1687.method_17742(new class_3959(new class_243(fakePlayer.method_23317(), fakePlayer.method_23318() - 1.0, fakePlayer.method_23321()), new class_243(fakePlayer.method_23317(), fakePlayer.method_23318() - 2.0, fakePlayer.method_23321()), class_3959.class_3960.field_17558, class_3959.class_242.field_1348, (class_1297)fakePlayer));
        if (a.method_17783() == class_239.class_240.field_1332) {
            d = a.method_17784().field_1351 + 1.0;
            fakePlayer.method_5641(fakePlayer.method_23317(), d, fakePlayer.method_23321(), fakePlayer.method_36454(), fakePlayer.method_36455());
        }
    }

    private /* synthetic */ void syncPlayerPositions() {
        Blink a;
        Blink blink = a;
        if (fakePlayer != null) {
            a = fakePlayer.method_19538();
            Blink.mc.field_1724.method_30634(((class_243)a).field_1352, ((class_243)a).field_1351, ((class_243)a).field_1350);
        }
    }

    public Blink() {
        Blink a;
        Blink blink = a;
        Blink blink2 = a;
        super(BaseSettings.ALLATORIxDEMO("G[k\\l"), TimerManager.ALLATORIxDEMO("8-\u0012.D:O{"), Module.Category.Exploit);
        a.tickCounter = 0;
        blink2.packetsList = new ArrayList();
        blink2.bur = a.add(new BooleanSetting(BaseSettings.ALLATORIxDEMO("\u0006t@P rpEp]p"), true));
        blink2.bur2 = blink2.add(new BooleanSetting(TimerManager.ALLATORIxDEMO("?&B{Y\u0004\u0012(;>\u0016$Ak"), true));
        blink2.allPacket = blink2.add(new BooleanSetting(BaseSettings.ALLATORIxDEMO("oYl`dTiWs"), false));
        blink2.pauseModule = blink2.add(new BooleanSetting(TimerManager.ALLATORIxDEMO("N\u0018>\r)4$\u0000#By"), false));
        blink2.speed = blink2.add(new SliderSetting(BaseSettings.ALLATORIxDEMO("^\u0016)~cZvUVGgWc"), 0.1, 0.0, 1.5, 0.1));
        blink.renderSelf = blink2.add(new BooleanSetting(TimerManager.ALLATORIxDEMO("+.\u0010(\u001c973Bz"), true));
        blink.setChinese(BaseSettings.ALLATORIxDEMO("\u779e\u79fc"));
        INSTANCE = blink;
    }

    @Override
    public void onDisable() {
        Object a;
        Blink blink = a;
        if (Blink.nullCheck()) {
            Blink blink2 = blink;
            blink2.packetsList.clear();
            blink2.disable();
            return;
        }
        if (blink.renderSelf.getValue() && fakePlayer != null) {
            fakePlayer.method_5768();
            fakePlayer.method_31745(class_1297.class_5529.field_26998);
            fakePlayer.method_36209();
            fakePlayer = null;
        }
        Object object = a = blink.packetsList.iterator();
        while (object.hasNext()) {
            class_2596 class_25962 = (class_2596)a.next();
            Blink.mc.field_1724.field_3944.method_52787(class_25962);
            object = a;
        }
        if (blink.bur.getValue() && !Burrow.INSTANCE.isOn()) {
            Burrow.INSTANCE.enable();
        }
        if (blink.bur2.getValue() && !OldBurrow.INSTANCE.isOn()) {
            OldBurrow.INSTANCE.enable();
        }
    }
}
